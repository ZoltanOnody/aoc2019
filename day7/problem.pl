#!/usr/bin/perl
use strict;
use warnings;
use LWP::Simple;

my $server = "http://0.0.0.0:8080/devhome/problem.php";
my $code = "3,8,1001,8,10,8,105,1,0,0,21,34,51,76,101,126,207,288,369,450,99999,3,9,102,4,9,9,1001,9,2,9,4,9,99,3,9,1001,9,2,9,1002,9,3,9,101,3,9,9,4,9,99,3,9,102,5,9,9,1001,9,2,9,102,2,9,9,101,3,9,9,1002,9,2,9,4,9,99,3,9,101,5,9,9,102,5,9,9,1001,9,2,9,102,3,9,9,1001,9,3,9,4,9,99,3,9,101,2,9,9,1002,9,5,9,1001,9,5,9,1002,9,4,9,101,5,9,9,4,9,99,3,9,1002,9,2,9,4,9,3,9,102,2,9,9,4,9,3,9,1001,9,1,9,4,9,3,9,102,2,9,9,4,9,3,9,1001,9,1,9,4,9,3,9,101,1,9,9,4,9,3,9,1001,9,2,9,4,9,3,9,1002,9,2,9,4,9,3,9,1001,9,1,9,4,9,3,9,1001,9,1,9,4,9,99,3,9,102,2,9,9,4,9,3,9,101,2,9,9,4,9,3,9,102,2,9,9,4,9,3,9,1002,9,2,9,4,9,3,9,1001,9,2,9,4,9,3,9,101,1,9,9,4,9,3,9,1001,9,2,9,4,9,3,9,102,2,9,9,4,9,3,9,101,1,9,9,4,9,3,9,102,2,9,9,4,9,99,3,9,101,2,9,9,4,9,3,9,101,2,9,9,4,9,3,9,101,1,9,9,4,9,3,9,1001,9,2,9,4,9,3,9,101,2,9,9,4,9,3,9,101,2,9,9,4,9,3,9,102,2,9,9,4,9,3,9,102,2,9,9,4,9,3,9,1001,9,2,9,4,9,3,9,1001,9,1,9,4,9,99,3,9,1001,9,2,9,4,9,3,9,101,1,9,9,4,9,3,9,102,2,9,9,4,9,3,9,1001,9,1,9,4,9,3,9,101,1,9,9,4,9,3,9,101,2,9,9,4,9,3,9,1001,9,1,9,4,9,3,9,101,2,9,9,4,9,3,9,102,2,9,9,4,9,3,9,102,2,9,9,4,9,99,3,9,1001,9,2,9,4,9,3,9,102,2,9,9,4,9,3,9,1002,9,2,9,4,9,3,9,102,2,9,9,4,9,3,9,102,2,9,9,4,9,3,9,1001,9,1,9,4,9,3,9,101,2,9,9,4,9,3,9,102,2,9,9,4,9,3,9,102,2,9,9,4,9,3,9,102,2,9,9,4,9,99";

sub executeBytecode {
	my $input1 = shift;
	my $input2 = shift;

	my $url = $server . "?stdin=" . $code . ";" . $input1 . ";" . $input2;
	return int(get($url));
}

sub solve1 {
	my $out0 = shift;
	my $in1 = shift;
	my $in2 = shift;
	my $in3 = shift;
	my $in4 = shift;
	my $in5 = shift;
	my $out1 = executeBytecode($in1, $out0);
	my $out2 = executeBytecode($in2, $out1);
	my $out3 = executeBytecode($in3, $out2);
	my $out4 = executeBytecode($in4, $out3);
	my $out5 = executeBytecode($in5, $out4);
	return $out5;
}

my $solution1 = 0;
for (my $i1 = 0; $i1 < 5; $i1++) {
	for (my $i2 = 0; $i2 < 5; $i2++) {
		for (my $i3 = 0; $i3 < 5; $i3++) {
			for (my $i4 = 0; $i4 < 5; $i4++) {
				for (my $i5 = 0; $i5 < 5; $i5++) {
					if($i1 == $i2 || $i1 == $i3 || $i1 == $i4 || $i1 == $i5) {next};
					if($i2 == $i3 || $i2 == $i4 || $i2 == $i5) {next};
					if($i3 == $i4 || $i3 == $i5) {next};
					if($i4 == $i5) {next};

					my $tmp = solve1(0, $i1, $i2, $i3, $i4, $i5);
					if ($tmp > $solution1) {
						$solution1 = $tmp;
					}
				}
			}
		}
	}
}

print $solution1."\n";
